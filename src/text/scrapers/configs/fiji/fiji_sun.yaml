# Fiji Sun Configuration
# Migrated from monolithic scraper: src/text/scrapers/newspapers/samoa/samoa_observer.py

name: "Fiji Sun"
country: "fiji"
base_url: "https://www.fijisun.com.fj"

# Listing discovery configuration using API strategy
listing:
  type: "api"
  url_template: "https://fijisun.com.fj/api/articles?where%5B_status%5D%5Bequals%5D=published&where%5Bcategory.section%5D%5Bequals%5D=news&where%5Bcategory.slug%5D%5Bequals%5D=nation&page={page}&limit=10&sort=-publishDate"
  pagination_type: "page"
  page_start: 1
  page_step: 1
  url_construction_template: "https://www.fijisun.com.fj/news/nation/{id}"
  json_paths:
    collection: "docs"  # Array of articles in the JSON response
    id: "slug"  # Article ID used to construct URL
    title: "title"
    date: "publishDate"
    body: "content.root.children.children.text"
    tags: "tags.slug"

# Client configuration
client: "http"
concurrency: 10
rate_limit: 0.2
retries: 3
retry_seconds: 2.0

headers:
  User-Agent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"
  Accept: "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8"
  Accept-Language: "en-US,en;q=0.9"
  Referer: "https://www.fijisun.com.fj/category/news/nation/"
  Cache-Control: "no-cache"
  Pragma: "no-cache"

# CSS selectors for data extraction (for article content)
selectors:
  thumbnail:
    # Not used for API strategy - data comes from JSON
    container: "filler"
    title: "filler"
    url: "filler"
    date: filler
  article:
    body: "filler"
    tags: "filler"

# Data cleaning configuration
cleaning:
  date: "handle_mixed_dates"
  body: "join_body_list"

# Test/debug options
max_pages: null
max_articles: null

# Site-specific notes:
# - Uses JSON API for listing discovery (page-based pagination)
# - Article content is scraped from JSON
